(this["webpackJsonpray-dashboard-client"]=this["webpackJsonpray-dashboard-client"]||[]).push([[7],{504:function(e,t,a){"use strict";a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m}));var n=a(417),r=a(482),c=a(488),o=a(476),i=a(489),l=a(0),s=a.n(l),u=Object(n.a)((function(e){return{search:{margin:e.spacing(1),marginTop:0}}})),d=function(e){var t=e.label,a=e.onChange,n=e.defaultValue,o=u();return s.a.createElement(r.a,{className:o.search,size:"small",label:t,InputProps:{onChange:function(e){var t=e.target.value;a&&a(t)},defaultValue:n,endAdornment:s.a.createElement(c.a,{position:"end"},s.a.createElement(i.a,null))}})},m=function(e){var t=e.label,a=e.onChange,n=e.options,c=u();return s.a.createElement(r.a,{className:c.search,size:"small",label:t,select:!0,SelectProps:{onChange:function(e){var t=e.target.value;a&&a(t)},style:{width:100}}},s.a.createElement(o.a,{value:""},"All"),n.map((function(e){return"string"===typeof e?s.a.createElement(o.a,{value:e},e):s.a.createElement(o.a,{value:e[0]},e[1])})))}},510:function(e,t,a){"use strict";var n=a(429),r=a(474),c=a(0),o=a.n(c);t.a=function(e){var t=e.loading;return o.a.createElement(n.a,{open:t,style:{zIndex:100}},o.a.createElement(r.a,{color:"primary"}))}},512:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(0),o=(a(5),a(3)),i=a(4),l=c.forwardRef((function(e,t){var a=e.classes,i=e.className,l=e.component,s=void 0===l?"div":l,u=Object(r.a)(e,["classes","className","component"]);return c.createElement(s,Object(n.a)({ref:t,className:Object(o.a)(a.root,i)},u))}));t.a=Object(i.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(l)},513:function(e,t,a){"use strict";var n=a(1),r=a(2),c=a(0),o=(a(5),a(3)),i=a(4),l=a(8),s=a(6),u=a(108),d=c.forwardRef((function(e,t){var a=e.classes,i=e.className,l=e.color,d=void 0===l?"secondary":l,m=e.edge,p=void 0!==m&&m,b=e.size,g=void 0===b?"medium":b,h=Object(r.a)(e,["classes","className","color","edge","size"]),f=c.createElement("span",{className:a.thumb});return c.createElement("span",{className:Object(o.a)(a.root,i,{start:a.edgeStart,end:a.edgeEnd}[p],"small"===g&&a["size".concat(Object(s.a)(g))])},c.createElement(u.a,Object(n.a)({type:"checkbox",icon:f,checkedIcon:f,classes:{root:Object(o.a)(a.switchBase,a["color".concat(Object(s.a)(d))]),input:a.input,checked:a.checked,disabled:a.disabled},ref:t},h)),c.createElement("span",{className:a.track}))}));t.a=Object(i.a)((function(e){return{root:{display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},edgeStart:{marginLeft:-8},edgeEnd:{marginRight:-8},switchBase:{position:"absolute",top:0,left:0,zIndex:1,color:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[400],transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),"&$checked":{transform:"translateX(20px)"},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{opacity:.5},"&$disabled + $track":{opacity:"light"===e.palette.type?.12:.1}},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.primary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[800]},"&$checked + $track":{backgroundColor:e.palette.secondary.main},"&$disabled + $track":{backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white}},sizeSmall:{width:40,height:24,padding:7,"& $thumb":{width:16,height:16},"& $switchBase":{padding:4,"&$checked":{transform:"translateX(16px)"}}},checked:{},disabled:{},input:{left:"-100%",width:"300%"},thumb:{boxShadow:e.shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"},track:{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:"light"===e.palette.type?e.palette.common.black:e.palette.common.white,opacity:"light"===e.palette.type?.38:.3}}}),{name:"MuiSwitch"})(d)},514:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return c}));var n=a(60),r=function(){return Object(n.b)("jobs?view=summary")},c=function(e){return Object(n.b)("jobs/".concat(e))}},525:function(e,t,a){"use strict";a.r(t);var n=a(513),r=a(512),c=a(472),o=a(470),i=a(471),l=a(469),s=a(473),u=a(417),d=a(494),m=a(57),p=a.n(m),b=a(0),g=a.n(b),h=a(62),f=a(510),v=a(504),y=a(106),k=a(24),j=a(15),E=a(13),O=a.n(E),w=a(17),S=a(81),C=a(7),$=a(514),N=Object(u.a)((function(e){return{root:{padding:e.spacing(2),width:"100%"}}})),x=["ID","DriverIpAddress","DriverPid","IsDead","StartTime","EndTime"];t.default=function(){var e=N(),t=function(){var e=Object(b.useState)([]),t=Object(C.a)(e,2),a=t[0],n=t[1],r=Object(b.useState)({pageSize:10,pageNo:1}),c=Object(C.a)(r,2),o=c[0],i=c[1],l=Object(b.useState)("Loading the job list..."),s=Object(C.a)(l,2),u=s[0],d=s[1],m=Object(b.useState)(!0),p=Object(C.a)(m,2),g=p[0],h=p[1],f=Object(b.useState)([]),v=Object(C.a)(f,2),y=v[0],E=v[1],N=Object(b.useRef)(g),x=Object(b.useRef)();N.current=g;var z=Object(b.useCallback)(Object(w.a)(O.a.mark((function e(){var t,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object($.b)();case 4:(null===(r=e.sent)||void 0===r||null===(t=r.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.summary)&&(n(r.data.data.summary.sort((function(e,t){return t.timestamp-e.timestamp}))),d(r.data.msg||"")),x.current=setTimeout(z,4e3);case 7:case"end":return e.stop()}}),e)}))),[]);return Object(b.useEffect)((function(){return z(),function(){x.current&&clearTimeout(x.current)}}),[z]),{jobList:a.filter((function(e){return y.every((function(t){return e[t.key]&&e[t.key].includes(t.val)}))})),msg:u,isRefreshing:g,onSwitchChange:function(e){h(e.target.checked)},changeFilter:function(e,t){var a=y.find((function(t){return t.key===e}));a?a.val=t:y.push({key:e,val:t}),E(Object(S.a)(y))},page:o,originalJobs:a,setPage:function(e,t){return i(Object(j.a)(Object(j.a)({},o),{},Object(k.a)({},e,t)))}}}(),a=t.msg,u=t.isRefreshing,m=t.onSwitchChange,E=t.jobList,z=t.changeFilter,I=t.page,R=t.setPage;return g.a.createElement("div",{className:e.root},g.a.createElement(f.a,{loading:a.startsWith("Loading")}),g.a.createElement(y.a,{title:"JOBS"},"Auto Refresh:",g.a.createElement(n.a,{checked:u,onChange:m,name:"refresh",inputProps:{"aria-label":"secondary checkbox"}}),g.a.createElement("br",null),"Request Status: ",a),g.a.createElement(y.a,{title:"Job List"},g.a.createElement(r.a,null,g.a.createElement(v.a,{label:"ID",onChange:function(e){return z("jobId",e)}}),g.a.createElement(v.b,{label:"Language",onChange:function(e){return z("language",e)},options:["JAVA","PYTHON"]}),g.a.createElement(v.a,{label:"Page Size",onChange:function(e){return R("pageSize",Math.min(Number(e),500)||10)}}),g.a.createElement("div",null,g.a.createElement(d.a,{count:Math.ceil(E.length/I.pageSize),page:I.pageNo,onChange:function(e,t){return R("pageNo",t)}})),g.a.createElement(c.a,null,g.a.createElement(o.a,null,g.a.createElement(i.a,null,x.map((function(e){return g.a.createElement(l.a,{align:"center",key:e},e)})))),g.a.createElement(s.a,null,E.slice((I.pageNo-1)*I.pageSize,I.pageNo*I.pageSize).map((function(e){var t=e.jobId,a=void 0===t?"":t,n=e.driverIpAddress,r=e.isDead,c=e.driverPid,o=e.startTime,s=e.endTime;return g.a.createElement(i.a,{key:a},g.a.createElement(l.a,{align:"center"},g.a.createElement(h.b,{to:"/job/".concat(a)},a)),g.a.createElement(l.a,{align:"center"},n),g.a.createElement(l.a,{align:"center"},c),g.a.createElement(l.a,{align:"center"},r?"true":"false"),g.a.createElement(l.a,{align:"center"},p()(Number(o)).format("YYYY/MM/DD HH:mm:ss")),g.a.createElement(l.a,{align:"center"},s>0?p()(Number(s)).format("YYYY/MM/DD HH:mm:ss"):"-"))})))))))}}}]);
//# sourceMappingURL=7.d9f15be5.chunk.js.map